<div class="position-right">
  <div class="panel m-v-lg m-h-sm">
    <div class="panel-body">

      <div class="g-table-banner p-v-lg p-h-md b-b">
        <div class="tb-flex">
          <div class="item m-b-sm">
            <label class="w-label-control">所属区域: </label>
            <div class="w-sm pull-left m-r-lg">
              <select ui-select2
                      name="areaPartition"
                      ng-model="deviceVm.selectList.areaPartitionId"
                      data-placeholder="请选择所属区域"
                      required>
                <option value=""></option>
                <option ng-repeat="item in deviceVm.arrayList" ng-value="item.id">{{item.name}}</option>
              </select>
            </div>
          </div>

          <div class="item m-b-sm">
            <label class="w-label-control">位置信息:</label>
            <my-cascade-four partition-id="deviceVm.selectList.partitionId"
                             block-id="deviceVm.selectList.blockId"
                             unit-id="deviceVm.selectList.unitId"
                             community-id="deviceVm.selectList.communityId"
                             room-id="deviceVm.selectList.roomNoId"
                             get-partitions="deviceVm.getPartitions(communityId)"
                             get-blocks="deviceVm.getBlocks(partitionId)"
                             get-units="deviceVm.getUnits(blockId)"
                             communities="deviceVm.block.communities"
                             partitions="deviceVm.block.partitions"
                             blocks="deviceVm.block.blocks"
                             units="deviceVm.block.units">
            </my-cascade-four>
          </div>

          <div class="item m-b-sm">
            <label class="w-label-control">设备sn:</label>
            <input type="text"
                   class="form-control w-md pull-left m-r-md"
                   ng-model="deviceVm.selectList.sn"
                   placeholder="请填写设备sn">
          </div>

          <div class="item m-b-sm">
            <label class="w-label-control">锁类型: </label>
            <div class="w-sm pull-left m-r-lg">
              <my-select model="deviceVm.selectList.lockType"
                         placeholder="请选择锁类型"
                         opt-list="['磁力锁', '电控锁']">
              </my-select>
            </div>
          </div>

          <div class="item m-b-sm">
            <label class="w-label-control">设备类型: </label>
            <div class="w-sm pull-left m-r-lg">
              <my-select model="deviceVm.selectList.type"
                         placeholder="请选择设备类型"
                         opt-list="['围墙机', '单元机']">
              </my-select>
            </div>
          </div>

          <div class="item m-b-sm">
            <label class="w-label-control">设备状态: </label>
            <div class="w-sm pull-left m-r-lg">
              <my-select model="deviceVm.selectList.status"
                         placeholder="请选择设备状态"
                         opt-list="['离线', '在线']">
              </my-select>
            </div>
          </div>
        </div>

        <div class="row text-center m-t-md">
          <my-filter-button get-search="deviceVm.getSearch(selectList, getList)"
                            clear-session="deviceVm.clearSession()"
                            select-list="deviceVm.selectList"
                            get-list="deviceVm.getDevice">
          </my-filter-button>
        </div>
      </div>

      <div class="g-table-content m-t-md p-h-md">
        <table class="table table-striped wk-table">
          <thead>
          <th>所属区域</th>
          <th>小区名称</th>
          <th>设备sn</th>
          <th>设备类型</th>
          <th>单元信息</th>
          <th>安装时间</th>
          <th>设备状态</th>
          <th>用户/人</th>
          <th>锁类型</th>
          <th>操作</th>
          </thead>
          <tr ng-repeat="item in deviceVm.deviceList">
            <td>{{item.areaName || '-'}}</td>
            <td>{{item.communityName || '-'}}</td>
            <td>{{item.sn || '-'}}</td>
            <td>{{item.type_cn || '-'}}</td>
            <td>{{item.blockName || '-'}}</td>
            <td>{{item.gmtCreated | date: 'yyyy-MM-dd' || '-'}}</td>
            <td>
              <span class="state-circle" ng-class="{'circle-red': item.status == '0', 'circle-green': item.status == '1'}"></span>
              {{item.status_cn || '-'}}
            </td>
            <td>{{item.amount || '-'}}</td>
            <td>{{item.lockType_cn || '-'}}</td>
            <td>
              <a class="m-r-sm" href="javascript:;"
                 ng-click="deviceVm.openModal('detail','dDetailCtl as detailVm', item)">
                详情
              </a>
              <a href="javascript:;" ng-click="deviceVm.openModal('alert','alertCtl as alertVm', item.sn)">
                解绑
              </a>
            </td>
          </tr>
        </table>
      </div>

      <my-pagination
        pages="deviceVm.pages"
        page-active="page.active"
        is-first-page="deviceVm.isFirstPage"
        is-last-page="deviceVm.isLastPage"
        pages-num="deviceVm.pagesNum"
        pages-total="deviceVm.pagesTotal"
        page-skip="pageSkip"
        select-page="deviceVm.selectPage(pageTag, pageNo)">
      </my-pagination>

      <div class="clearfix"></div>

    </div>
  </div>
</div>
